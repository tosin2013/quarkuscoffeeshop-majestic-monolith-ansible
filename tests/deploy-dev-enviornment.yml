---
- hosts: "{{ external_endpoint }}"
  remote_user: "{{ remote_username }}"
  vars: 
    network_name: rhel-edge
    podman_ip_range: 192.168.22.128/25
    podman_subnet: 192.168.22.0/24
    podman_gateway:  192.168.22.1
  tasks: 
  - name:  Deploy Application
    import_tasks: ../tasks/configure-dev-enviornment.yml
    tags:
      - deploy

  - name: deploy application
    import_tasks: ../tasks/deploy_appication.yml
    tags:
    - deploy_application
    - deploy
    - deploy_quarkuscoffeeshop-majestic-monolith
    - deploy_postgres